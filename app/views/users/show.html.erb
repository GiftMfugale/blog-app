<div class="container">
    <div clas="header">
        <% if user_signed_in? %>
        <div> Hi <%=  current_user.first_name %>: You're welcome</div>
        <%= button_to "Sign out", destroy_user_session_path, method: :delete %>
        <%= button_to "Add new post", new_post_path, method: :get %>
        <% else %>
        <%= button_to "Sign in", new_user_session_path %>
        <% end %>

        

    </div>

    <div class="content">
        <h2 class="header">USER POSTS</h2>

        

        <div class="post">
        <div class="user-photo">
            <%= image_tag "default-user.png", alt: "User image", width: '90', height: '90' %>
        </div>

        <div class="user-info">
            <div class="user-name"><%= @user.full_name %><%= link_to 'Edit Profile', edit_user_registration_path(@user) %></div>
            <div class="user-posts">Number of posts: <%= @user.posts_counter %></div>

        </div>
        </div>
        <div class="bio-details">
            <h3><%= @user.full_name %>'s Biography</h3>
        <p><%=  @user.bio %></p>
        </div>


        <% @user_posts.each_with_index do |user_post, index| %>
        <div class="post-details">
            <h4> 
                Post #<%= index + 1 %>: <%= user_post.title%>
                <% if can?(:destroy, user_post)%>
                <%= link_to image_tag("delete_icon.png", width:13, height: 13), delete_post_path(user_post.id), method: :delete, data: {confirm: 'Surely, you want to delete your post. The post and it/s comments, will all be deleted'} %>
                <% end %>
               
                <% if can?(:update, user_post)  %>
                <%= link_to image_tag("edit_icon.png", width:13, height:13), edit_post_path(user_post.id)%>
                <% end %>
            </h4>
            <p><%= user_post.text%></p>
            <div class="comments-and-likes-count">
                
             <%= link_to 'Comments:', user_posts_path(@user) %><%= user_post.comments_counter%>, Likes: <%= user_post.likes_counter%>
            </div>

        </div>
        <% end %>

    </div>


<div>